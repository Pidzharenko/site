define(["jquery","underscore","common/utils/file","common/config"],function(e,r,t,n){var l,o={},u=e('<a href="#" target="_blank"></a>'),a=function(r){var l="",o="";e.each(r,function(e,n){var l=t.hexToRgb(n);o+=l.r/255+","+l.g/255+","+l.b/255,e<r.length-1&&(o+=",")});var u=e(".folder-title em b").text(),a=u.substr(0,u.lastIndexOf("."));a||(a="My Kuler Theme");var c=2,s="Custom",i=0,f=a,d="rgb";return l+=n.get("kuler_url")+"/create/color-wheel?rgbvalues="+o+"&base="+c+"&rule="+s+"&selected="+i+"&name="+escape(f)+"&mode="+d};return o.$el=u,o.setResource=function(e){return l=e,o},o.render=function(){var t=a(l),n=e('<ul class="colors group"></ul>');return r.each(l,function(e,r){4>=r&&n.append('<li><div title="#'+e+'" style="background-color: #'+e+';">&nbsp;</div></li>')}),u.attr("href",t).html(n),o},o});